# Кельник

---
- [Установка и запуск](#установка-и-запуск)
- [Краткое описание](#краткое-описание)

## Установка и запуск

### Предварительные установки
На системе должны быть установлены 
> **git** 

> **docker engine** 

> **docker compose plugin**

Далее создаём рабочую директорию программы при помощи:
```
git clone https://github.com/Klimentin0/Kelnik
```
Как директория будет создана далее переходим в корневую директорию проекта:
```
cd Kelnik
```
И запускаем проект
```
docker compose up --build -d

```
Возможно нужны привилегии прм запуске
```
sudo docker compose up --build -d
```
Или чтобы отлседить готовность проекта в консоли запускать без детачд мода
```
docker compose up --build
```
```
sudo docker compose up --build
```
Программа будет готова, когда вы увидете в консоли:
```
Starting Apache...
```
Отображение в браузере происходит на:
> http://localhost:3000/

Для завершения
```
sudo docker compose down
```

## Краткое описание
Проект собран по идеологии DDD. Вся логика поделена на 3 домена. Домен с логикой сервиса статей, Веб домен(а именно сам контроллер который на API отдает уже) и инфраструктурный домен, с использованием репозитория(и интерфейса этого репозитория, который в сервисе находится).
Проект основывается на трёх контейнерах: api(laravel), db(MYSQL), frontend(VUE).

В папке:
```
Kelnik/api/app/Http/Requests/Articles
```
валидация запроса на апдейт и создание.

При запуске в проекте в скрипте: 
```
Kelnik/api/docker/entrypoint.sh
```
прописаны ожидание базы данных, миграции, посев базы данных, и старт апача.


Вопрос с CORS в данном случае решался из-за апача с помощью: 
```
Kelnik/api/public/.htaccess
```


Есть логика сохранения состояния, даже если случайно обновить страницу с заполенными данными, они останутся в полях:
```
Kelnik/frontend/src/components/CreateArticle.vue
```
